{"id":"Z5DF","dependencies":[{"name":"C:\\Users\\이은경\\Desktop\\00-starting-project\\package.json","includedInParent":true,"mtime":1687278996450},{"name":"express","loc":{"line":1,"column":24,"index":24},"parent":"C:\\Users\\이은경\\Desktop\\00-starting-project\\routes\\restaurants.js","resolved":"C:\\Users\\이은경\\Desktop\\00-starting-project\\node_modules\\express\\index.js"},{"name":"uuid","loc":{"line":2,"column":21,"index":58},"parent":"C:\\Users\\이은경\\Desktop\\00-starting-project\\routes\\restaurants.js","resolved":"C:\\Users\\이은경\\Desktop\\00-starting-project\\node_modules\\uuid\\dist\\esm-browser\\index.js"},{"name":"../util/restaurant-data","loc":{"line":4,"column":24,"index":94},"parent":"C:\\Users\\이은경\\Desktop\\00-starting-project\\routes\\restaurants.js","resolved":"C:\\Users\\이은경\\Desktop\\00-starting-project\\util\\restaurant-data.js"}],"generated":{"js":"function r(r,t){var n=\"undefined\"!=typeof Symbol&&r[Symbol.iterator]||r[\"@@iterator\"];if(!n){if(Array.isArray(r)||(n=e(r))||t&&r&&\"number\"==typeof r.length){n&&(r=n);var a=0,o=function(){};return{s:o,n:function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}},e:function(r){throw r},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var u,i=!0,s=!1;return{s:function(){n=n.call(r)},n:function(){var r=n.next();return i=r.done,r},e:function(r){s=!0,u=r},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw u}}}}function e(r,e){if(r){if(\"string\"==typeof r)return t(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return\"Object\"===n&&r.constructor&&(n=r.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(r):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(r,e):void 0}}function t(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var n=require(\"express\"),a=require(\"uuid\"),o=require(\"../util/restaurant-data\"),u=n.Router();u.get(\"/restaurants\",function(r,e){var t=r.query.order,n=\"desc\";\"asc\"!==t&&\"desc\"!==t&&(t=\"asc\"),\"desc\"===t&&(n=\"asc\");var a=o.getStoredRestaurants();a.sort(function(r,e){return\"asc\"===t&&r.name>e.name||\"desc\"===t&&e.name>r.name?1:-1}),e.render(\"restaurants\",{numberOfRestaurants:a.length,restaurants:a,nextOrder:n})}),u.get(\"/restaurants/:id\",function(e,t){var n,a=e.params.id,u=r(o.getStoredRestaurants());try{for(u.s();!(n=u.n()).done;){var i=n.value;if(i.id===a)return t.render(\"restaurants-detail\",{restaurant:i,rid:a})}}catch(s){u.e(s)}finally{u.f()}t.status(404).render(\"404\")}),u.get(\"/recommend\",function(r,e){e.render(\"recommend\")}),u.post(\"/recommend\",function(r,e){var t=r.body;t.id=a.v4();var n=o.getStoredRestaurants();n.push(t),o.storeRestaurants(n),e.redirect(\"/confirm\")}),u.get(\"/confirm\",function(r,e){e.render(\"confirm\")}),module.exports=u;"},"sourceMaps":{"js":{"mappings":[{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":0}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":9}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":11}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":13}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":16}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":20}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":22}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":42}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":50}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":52}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":59}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":70}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":72}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":86}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":90}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":92}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":93}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":96}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":102}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":110}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":115}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":117}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":119}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":124}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":127}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":130}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":147}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":149}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":156}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":157}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":161}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":163}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":166}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":170}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":172}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":174}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":176}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":189}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":195}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":196}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":198}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":200}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":202}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":213}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":220}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":223}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":225}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":232}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":233}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":239}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":242}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":243}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":249}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":251}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":257}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":259}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":266}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":268}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":277}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":280}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":286}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":289}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":291}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":294}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":300}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":304}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":314}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":451}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":455}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":457}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":460}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":462}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":465}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":467}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":473}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":474}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":476}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":487}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":489}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":491}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":496}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":500}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":502}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":513}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":517}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":519}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":521}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":528}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":535}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":537}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":539}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":544}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":547}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":549}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":558}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":561}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":564}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":566}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":568}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":571}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":573}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":584}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":588}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":591}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":597}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":599}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":607}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":609}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":618}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":626}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":629}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":631}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":637}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":642}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":651}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":653}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":655}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":658}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":661}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":663}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":664}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":667}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":684}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":686}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":693}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":695}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":697}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":700}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":704}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":706}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":713}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":723}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":732}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":737}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":740}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":746}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":749}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":752}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":758}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":769}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":772}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":774}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":788}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":790}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":792}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":804}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":810}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":818}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":821}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":829}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":831}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":837}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":842}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":845}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":859}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":862}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":905}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":910}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":913}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":915}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":917}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":925}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":928}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":937}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":939}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":941}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":945}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":951}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":954}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":956}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":958}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":968}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":970}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":972}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":980}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":984}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":988}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":990}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":992}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":994}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":998}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1004}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1007}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1009}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1011}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1015}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1017}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1020}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1022}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1025}},{"source":"routes/restaurants.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1032}},{"source":"routes/restaurants.js","original":{"line":1,"column":0},"generated":{"line":1,"column":1034}},{"source":"routes/restaurants.js","name":"express","original":{"line":1,"column":6},"generated":{"line":1,"column":1038}},{"source":"routes/restaurants.js","name":"require","original":{"line":1,"column":16},"generated":{"line":1,"column":1040}},{"source":"routes/restaurants.js","original":{"line":1,"column":24},"generated":{"line":1,"column":1048}},{"source":"routes/restaurants.js","name":"uuid","original":{"line":2,"column":6},"generated":{"line":1,"column":1059}},{"source":"routes/restaurants.js","name":"require","original":{"line":2,"column":13},"generated":{"line":1,"column":1061}},{"source":"routes/restaurants.js","original":{"line":2,"column":21},"generated":{"line":1,"column":1069}},{"source":"routes/restaurants.js","name":"resData","original":{"line":4,"column":6},"generated":{"line":1,"column":1077}},{"source":"routes/restaurants.js","name":"require","original":{"line":4,"column":16},"generated":{"line":1,"column":1079}},{"source":"routes/restaurants.js","original":{"line":4,"column":24},"generated":{"line":1,"column":1087}},{"source":"routes/restaurants.js","name":"router","original":{"line":5,"column":6},"generated":{"line":1,"column":1114}},{"source":"routes/restaurants.js","name":"express","original":{"line":5,"column":15},"generated":{"line":1,"column":1116}},{"source":"routes/restaurants.js","name":"Router","original":{"line":5,"column":23},"generated":{"line":1,"column":1118}},{"source":"routes/restaurants.js","name":"router","original":{"line":7,"column":0},"generated":{"line":1,"column":1127}},{"source":"routes/restaurants.js","name":"get","original":{"line":7,"column":7},"generated":{"line":1,"column":1129}},{"source":"routes/restaurants.js","original":{"line":7,"column":11},"generated":{"line":1,"column":1133}},{"source":"routes/restaurants.js","original":{"line":7,"column":27},"generated":{"line":1,"column":1148}},{"source":"routes/restaurants.js","name":"req","original":{"line":7,"column":36},"generated":{"line":1,"column":1157}},{"source":"routes/restaurants.js","name":"res","original":{"line":7,"column":41},"generated":{"line":1,"column":1159}},{"source":"routes/restaurants.js","original":{"line":8,"column":2},"generated":{"line":1,"column":1162}},{"source":"routes/restaurants.js","name":"order","original":{"line":8,"column":6},"generated":{"line":1,"column":1166}},{"source":"routes/restaurants.js","name":"req","original":{"line":8,"column":14},"generated":{"line":1,"column":1168}},{"source":"routes/restaurants.js","name":"query","original":{"line":8,"column":18},"generated":{"line":1,"column":1170}},{"source":"routes/restaurants.js","name":"order","original":{"line":8,"column":24},"generated":{"line":1,"column":1176}},{"source":"routes/restaurants.js","name":"nextOrder","original":{"line":9,"column":6},"generated":{"line":1,"column":1182}},{"source":"routes/restaurants.js","original":{"line":9,"column":18},"generated":{"line":1,"column":1184}},{"source":"routes/restaurants.js","original":{"line":11,"column":16},"generated":{"line":1,"column":1191}},{"source":"routes/restaurants.js","name":"order","original":{"line":11,"column":6},"generated":{"line":1,"column":1199}},{"source":"routes/restaurants.js","original":{"line":11,"column":35},"generated":{"line":1,"column":1202}},{"source":"routes/restaurants.js","name":"order","original":{"line":11,"column":25},"generated":{"line":1,"column":1211}},{"source":"routes/restaurants.js","name":"order","original":{"line":12,"column":4},"generated":{"line":1,"column":1215}},{"source":"routes/restaurants.js","original":{"line":12,"column":12},"generated":{"line":1,"column":1217}},{"source":"routes/restaurants.js","original":{"line":15,"column":16},"generated":{"line":1,"column":1224}},{"source":"routes/restaurants.js","name":"order","original":{"line":15,"column":6},"generated":{"line":1,"column":1233}},{"source":"routes/restaurants.js","name":"nextOrder","original":{"line":16,"column":4},"generated":{"line":1,"column":1237}},{"source":"routes/restaurants.js","original":{"line":16,"column":16},"generated":{"line":1,"column":1239}},{"source":"routes/restaurants.js","original":{"line":19,"column":2},"generated":{"line":1,"column":1246}},{"source":"routes/restaurants.js","name":"storedRestaurants","original":{"line":19,"column":8},"generated":{"line":1,"column":1250}},{"source":"routes/restaurants.js","name":"resData","original":{"line":19,"column":28},"generated":{"line":1,"column":1252}},{"source":"routes/restaurants.js","name":"getStoredRestaurants","original":{"line":19,"column":36},"generated":{"line":1,"column":1254}},{"source":"routes/restaurants.js","name":"storedRestaurants","original":{"line":21,"column":2},"generated":{"line":1,"column":1277}},{"source":"routes/restaurants.js","name":"sort","original":{"line":21,"column":20},"generated":{"line":1,"column":1279}},{"source":"routes/restaurants.js","original":{"line":21,"column":25},"generated":{"line":1,"column":1284}},{"source":"routes/restaurants.js","name":"resA","original":{"line":21,"column":34},"generated":{"line":1,"column":1293}},{"source":"routes/restaurants.js","name":"resB","original":{"line":21,"column":40},"generated":{"line":1,"column":1295}},{"source":"routes/restaurants.js","original":{"line":22,"column":4},"generated":{"line":1,"column":1298}},{"source":"routes/restaurants.js","original":{"line":22,"column":18},"generated":{"line":1,"column":1304}},{"source":"routes/restaurants.js","name":"order","original":{"line":22,"column":8},"generated":{"line":1,"column":1312}},{"source":"routes/restaurants.js","name":"resA","original":{"line":22,"column":27},"generated":{"line":1,"column":1315}},{"source":"routes/restaurants.js","name":"name","original":{"line":22,"column":32},"generated":{"line":1,"column":1317}},{"source":"routes/restaurants.js","name":"resB","original":{"line":22,"column":39},"generated":{"line":1,"column":1322}},{"source":"routes/restaurants.js","name":"name","original":{"line":22,"column":44},"generated":{"line":1,"column":1324}},{"source":"routes/restaurants.js","original":{"line":22,"column":64},"generated":{"line":1,"column":1330}},{"source":"routes/restaurants.js","name":"order","original":{"line":22,"column":54},"generated":{"line":1,"column":1339}},{"source":"routes/restaurants.js","name":"resB","original":{"line":22,"column":74},"generated":{"line":1,"column":1342}},{"source":"routes/restaurants.js","name":"name","original":{"line":22,"column":79},"generated":{"line":1,"column":1344}},{"source":"routes/restaurants.js","name":"resA","original":{"line":22,"column":86},"generated":{"line":1,"column":1349}},{"source":"routes/restaurants.js","name":"name","original":{"line":22,"column":91},"generated":{"line":1,"column":1351}},{"source":"routes/restaurants.js","original":{"line":23,"column":13},"generated":{"line":1,"column":1356}},{"source":"routes/restaurants.js","original":{"line":25,"column":12},"generated":{"line":1,"column":1359}},{"source":"routes/restaurants.js","name":"res","original":{"line":28,"column":2},"generated":{"line":1,"column":1363}},{"source":"routes/restaurants.js","name":"render","original":{"line":28,"column":6},"generated":{"line":1,"column":1365}},{"source":"routes/restaurants.js","original":{"line":28,"column":13},"generated":{"line":1,"column":1372}},{"source":"routes/restaurants.js","original":{"line":28,"column":28},"generated":{"line":1,"column":1386}},{"source":"routes/restaurants.js","name":"numberOfRestaurants","original":{"line":28,"column":30},"generated":{"line":1,"column":1387}},{"source":"routes/restaurants.js","name":"storedRestaurants","original":{"line":28,"column":51},"generated":{"line":1,"column":1407}},{"source":"routes/restaurants.js","name":"length","original":{"line":28,"column":69},"generated":{"line":1,"column":1409}},{"source":"routes/restaurants.js","name":"restaurants","original":{"line":28,"column":77},"generated":{"line":1,"column":1416}},{"source":"routes/restaurants.js","name":"storedRestaurants","original":{"line":28,"column":90},"generated":{"line":1,"column":1428}},{"source":"routes/restaurants.js","name":"nextOrder","original":{"line":28,"column":109},"generated":{"line":1,"column":1430}},{"source":"routes/restaurants.js","name":"nextOrder","original":{"line":28,"column":120},"generated":{"line":1,"column":1440}},{"source":"routes/restaurants.js","name":"router","original":{"line":36,"column":0},"generated":{"line":1,"column":1446}},{"source":"routes/restaurants.js","name":"get","original":{"line":36,"column":7},"generated":{"line":1,"column":1448}},{"source":"routes/restaurants.js","original":{"line":36,"column":11},"generated":{"line":1,"column":1452}},{"source":"routes/restaurants.js","original":{"line":36,"column":31},"generated":{"line":1,"column":1471}},{"source":"routes/restaurants.js","name":"req","original":{"line":36,"column":40},"generated":{"line":1,"column":1480}},{"source":"routes/restaurants.js","name":"res","original":{"line":36,"column":45},"generated":{"line":1,"column":1482}},{"source":"routes/restaurants.js","original":{"line":37,"column":2},"generated":{"line":1,"column":1485}},{"source":"routes/restaurants.js","name":"_step","original":{"line":41,"column":44},"generated":{"line":1,"column":1489}},{"source":"routes/restaurants.js","name":"restaurantId","original":{"line":37,"column":8},"generated":{"line":1,"column":1491}},{"source":"routes/restaurants.js","name":"req","original":{"line":37,"column":23},"generated":{"line":1,"column":1493}},{"source":"routes/restaurants.js","name":"params","original":{"line":37,"column":27},"generated":{"line":1,"column":1495}},{"source":"routes/restaurants.js","name":"id","original":{"line":37,"column":34},"generated":{"line":1,"column":1502}},{"source":"routes/restaurants.js","name":"_iterator","original":{"line":39,"column":59},"generated":{"line":1,"column":1505}},{"source":"routes/restaurants.js","name":"_createForOfIteratorHelper","original":{"line":39,"column":59},"generated":{"line":1,"column":1507}},{"source":"routes/restaurants.js","name":"resData","original":{"line":39,"column":28},"generated":{"line":1,"column":1509}},{"source":"routes/restaurants.js","name":"getStoredRestaurants","original":{"line":39,"column":36},"generated":{"line":1,"column":1511}},{"source":"routes/restaurants.js","original":{"line":41,"column":44},"generated":{"line":1,"column":1535}},{"source":"routes/restaurants.js","original":{"line":41,"column":2},"generated":{"line":1,"column":1539}},{"source":"routes/restaurants.js","name":"_iterator","original":{"line":41,"column":2},"generated":{"line":1,"column":1543}},{"source":"routes/restaurants.js","name":"s","original":{"line":41,"column":2},"generated":{"line":1,"column":1545}},{"source":"routes/restaurants.js","name":"_step","original":{"line":41,"column":2},"generated":{"line":1,"column":1551}},{"source":"routes/restaurants.js","name":"_iterator","original":{"line":41,"column":2},"generated":{"line":1,"column":1553}},{"source":"routes/restaurants.js","name":"n","original":{"line":41,"column":2},"generated":{"line":1,"column":1555}},{"source":"routes/restaurants.js","name":"done","original":{"line":41,"column":2},"generated":{"line":1,"column":1560}},{"source":"routes/restaurants.js","original":{"line":41,"column":46},"generated":{"line":1,"column":1566}},{"source":"routes/restaurants.js","original":{"line":41,"column":46},"generated":{"line":1,"column":1567}},{"source":"routes/restaurants.js","name":"restaurant","original":{"line":41,"column":13},"generated":{"line":1,"column":1571}},{"source":"routes/restaurants.js","name":"_step","original":{"line":41,"column":23},"generated":{"line":1,"column":1573}},{"source":"routes/restaurants.js","name":"value","original":{"line":41,"column":23},"generated":{"line":1,"column":1575}},{"source":"routes/restaurants.js","original":{"line":42,"column":4},"generated":{"line":1,"column":1581}},{"source":"routes/restaurants.js","name":"restaurant","original":{"line":42,"column":8},"generated":{"line":1,"column":1584}},{"source":"routes/restaurants.js","name":"id","original":{"line":42,"column":19},"generated":{"line":1,"column":1586}},{"source":"routes/restaurants.js","name":"restaurantId","original":{"line":42,"column":26},"generated":{"line":1,"column":1591}},{"source":"routes/restaurants.js","original":{"line":43,"column":6},"generated":{"line":1,"column":1593}},{"source":"routes/restaurants.js","name":"res","original":{"line":43,"column":13},"generated":{"line":1,"column":1600}},{"source":"routes/restaurants.js","name":"render","original":{"line":43,"column":17},"generated":{"line":1,"column":1602}},{"source":"routes/restaurants.js","original":{"line":43,"column":24},"generated":{"line":1,"column":1609}},{"source":"routes/restaurants.js","original":{"line":43,"column":46},"generated":{"line":1,"column":1630}},{"source":"routes/restaurants.js","name":"restaurant","original":{"line":43,"column":48},"generated":{"line":1,"column":1631}},{"source":"routes/restaurants.js","name":"restaurant","original":{"line":43,"column":60},"generated":{"line":1,"column":1642}},{"source":"routes/restaurants.js","name":"rid","original":{"line":43,"column":72},"generated":{"line":1,"column":1644}},{"source":"routes/restaurants.js","name":"restaurantId","original":{"line":43,"column":77},"generated":{"line":1,"column":1648}},{"source":"routes/restaurants.js","name":"err","original":{"line":46,"column":3},"generated":{"line":1,"column":1653}},{"source":"routes/restaurants.js","name":"err","original":{"line":46,"column":3},"generated":{"line":1,"column":1659}},{"source":"routes/restaurants.js","name":"_iterator","original":{"line":46,"column":3},"generated":{"line":1,"column":1662}},{"source":"routes/restaurants.js","name":"e","original":{"line":46,"column":3},"generated":{"line":1,"column":1664}},{"source":"routes/restaurants.js","name":"err","original":{"line":46,"column":3},"generated":{"line":1,"column":1666}},{"source":"routes/restaurants.js","original":{"line":46,"column":3},"generated":{"line":1,"column":1669}},{"source":"routes/restaurants.js","name":"_iterator","original":{"line":46,"column":3},"generated":{"line":1,"column":1677}},{"source":"routes/restaurants.js","name":"f","original":{"line":46,"column":3},"generated":{"line":1,"column":1679}},{"source":"routes/restaurants.js","name":"res","original":{"line":47,"column":2},"generated":{"line":1,"column":1683}},{"source":"routes/restaurants.js","name":"status","original":{"line":47,"column":6},"generated":{"line":1,"column":1685}},{"source":"routes/restaurants.js","original":{"line":47,"column":13},"generated":{"line":1,"column":1692}},{"source":"routes/restaurants.js","name":"render","original":{"line":47,"column":18},"generated":{"line":1,"column":1697}},{"source":"routes/restaurants.js","original":{"line":47,"column":25},"generated":{"line":1,"column":1704}},{"source":"routes/restaurants.js","name":"router","original":{"line":51,"column":0},"generated":{"line":1,"column":1713}},{"source":"routes/restaurants.js","name":"get","original":{"line":51,"column":7},"generated":{"line":1,"column":1715}},{"source":"routes/restaurants.js","original":{"line":51,"column":11},"generated":{"line":1,"column":1719}},{"source":"routes/restaurants.js","original":{"line":51,"column":25},"generated":{"line":1,"column":1732}},{"source":"routes/restaurants.js","name":"req","original":{"line":51,"column":34},"generated":{"line":1,"column":1741}},{"source":"routes/restaurants.js","name":"res","original":{"line":51,"column":39},"generated":{"line":1,"column":1743}},{"source":"routes/restaurants.js","name":"res","original":{"line":52,"column":2},"generated":{"line":1,"column":1746}},{"source":"routes/restaurants.js","name":"render","original":{"line":52,"column":6},"generated":{"line":1,"column":1748}},{"source":"routes/restaurants.js","original":{"line":52,"column":13},"generated":{"line":1,"column":1755}},{"source":"routes/restaurants.js","name":"router","original":{"line":57,"column":0},"generated":{"line":1,"column":1770}},{"source":"routes/restaurants.js","name":"post","original":{"line":57,"column":7},"generated":{"line":1,"column":1772}},{"source":"routes/restaurants.js","original":{"line":57,"column":12},"generated":{"line":1,"column":1777}},{"source":"routes/restaurants.js","original":{"line":57,"column":26},"generated":{"line":1,"column":1790}},{"source":"routes/restaurants.js","name":"req","original":{"line":57,"column":35},"generated":{"line":1,"column":1799}},{"source":"routes/restaurants.js","name":"res","original":{"line":57,"column":40},"generated":{"line":1,"column":1801}},{"source":"routes/restaurants.js","original":{"line":58,"column":2},"generated":{"line":1,"column":1804}},{"source":"routes/restaurants.js","name":"restaurant","original":{"line":58,"column":8},"generated":{"line":1,"column":1808}},{"source":"routes/restaurants.js","name":"req","original":{"line":58,"column":21},"generated":{"line":1,"column":1810}},{"source":"routes/restaurants.js","name":"body","original":{"line":58,"column":25},"generated":{"line":1,"column":1812}},{"source":"routes/restaurants.js","name":"restaurant","original":{"line":59,"column":2},"generated":{"line":1,"column":1817}},{"source":"routes/restaurants.js","name":"id","original":{"line":59,"column":13},"generated":{"line":1,"column":1819}},{"source":"routes/restaurants.js","name":"uuid","original":{"line":59,"column":18},"generated":{"line":1,"column":1822}},{"source":"routes/restaurants.js","name":"v4","original":{"line":59,"column":23},"generated":{"line":1,"column":1824}},{"source":"routes/restaurants.js","original":{"line":62,"column":2},"generated":{"line":1,"column":1829}},{"source":"routes/restaurants.js","name":"restaurants","original":{"line":62,"column":8},"generated":{"line":1,"column":1833}},{"source":"routes/restaurants.js","name":"resData","original":{"line":62,"column":22},"generated":{"line":1,"column":1835}},{"source":"routes/restaurants.js","name":"getStoredRestaurants","original":{"line":62,"column":30},"generated":{"line":1,"column":1837}},{"source":"routes/restaurants.js","name":"restaurants","original":{"line":64,"column":2},"generated":{"line":1,"column":1860}},{"source":"routes/restaurants.js","name":"push","original":{"line":64,"column":14},"generated":{"line":1,"column":1862}},{"source":"routes/restaurants.js","name":"restaurant","original":{"line":64,"column":19},"generated":{"line":1,"column":1867}},{"source":"routes/restaurants.js","name":"resData","original":{"line":66,"column":2},"generated":{"line":1,"column":1870}},{"source":"routes/restaurants.js","name":"storeRestaurants","original":{"line":66,"column":10},"generated":{"line":1,"column":1872}},{"source":"routes/restaurants.js","name":"restaurants","original":{"line":66,"column":27},"generated":{"line":1,"column":1889}},{"source":"routes/restaurants.js","name":"res","original":{"line":68,"column":2},"generated":{"line":1,"column":1892}},{"source":"routes/restaurants.js","name":"redirect","original":{"line":68,"column":6},"generated":{"line":1,"column":1894}},{"source":"routes/restaurants.js","original":{"line":68,"column":15},"generated":{"line":1,"column":1903}},{"source":"routes/restaurants.js","name":"router","original":{"line":72,"column":0},"generated":{"line":1,"column":1917}},{"source":"routes/restaurants.js","name":"get","original":{"line":72,"column":7},"generated":{"line":1,"column":1919}},{"source":"routes/restaurants.js","original":{"line":72,"column":11},"generated":{"line":1,"column":1923}},{"source":"routes/restaurants.js","original":{"line":72,"column":23},"generated":{"line":1,"column":1934}},{"source":"routes/restaurants.js","name":"req","original":{"line":72,"column":32},"generated":{"line":1,"column":1943}},{"source":"routes/restaurants.js","name":"res","original":{"line":72,"column":37},"generated":{"line":1,"column":1945}},{"source":"routes/restaurants.js","name":"res","original":{"line":73,"column":2},"generated":{"line":1,"column":1948}},{"source":"routes/restaurants.js","name":"render","original":{"line":73,"column":6},"generated":{"line":1,"column":1950}},{"source":"routes/restaurants.js","original":{"line":73,"column":13},"generated":{"line":1,"column":1957}},{"source":"routes/restaurants.js","name":"module","original":{"line":78,"column":0},"generated":{"line":1,"column":1970}},{"source":"routes/restaurants.js","name":"exports","original":{"line":78,"column":7},"generated":{"line":1,"column":1977}},{"source":"routes/restaurants.js","name":"router","original":{"line":78,"column":17},"generated":{"line":1,"column":1985}}],"sources":{"routes/restaurants.js":"const express = require('express');\r\nconst uuid = require('uuid');\r\n\r\nconst resData = require('../util/restaurant-data');\r\nconst router = express.Router();\r\n\r\nrouter.get('/restaurants', function(req, res){\r\n  let order = req.query.order;\r\n  let nextOrder = 'desc';\r\n\r\n  if (order !== 'asc' && order !== 'desc') {\r\n    order = 'asc';\r\n  }//oder value가 asc이거나 desc가 아닐 때 오름차순 정렬.\r\n\r\n  if (order === 'desc'){\r\n    nextOrder = 'asc';\r\n  }\r\n\r\n  const storedRestaurants = resData.getStoredRestaurants(); //refactoring\r\n\r\n  storedRestaurants.sort(function(resA, resB) {\r\n    if((order === 'asc' && resA.name > resB.name) || (order === 'desc' && resB.name > resA.name)) {\r\n      return 1;\r\n    }\r\n    return -1;\r\n  });\r\n\r\n  res.render('restaurants', { numberOfRestaurants: storedRestaurants.length, restaurants: storedRestaurants, nextOrder: nextOrder }); //numberOfRestaurants 변수를 가진 restaurants view engine에 동적으로 데이터 값을 변환 하기 위해 설정을 해줌. 여기서는 저장되어 있는 데이터의 갯수를 가져와야 하므로, 객체||배열 데이터로 읽어드린 storedRestaurants 변수를 이용할 것임.\r\n  //두번째 객체 변수인 restaurants 는 리스트 목록을 만들기 위해 restaurants.ejs 에서 사용한 객체 데이터 값을 가진 데이터 배열 변수임. 변수명은 똑같은 것으로 사용해야 함.\r\n  // const htmlFilePath = path.join(__dirname, 'views', 'restaurants.html'); //복잡한 경로도 .join 메소드를 이용해 간단하게 선언 가능.\r\n  // res.sendFile(htmlFilePath);\r\n  //nextOrder : 등록된 데이터의 이름 순서에 따른 정렬 기능을 부여.\r\n\r\n});\r\n\r\nrouter.get('/restaurants/:id', function(req, res){//동적인 경로를 설정해 주기 위해서 객체 데이터 고유의 id값을 이용해 각 레스토랑의 상세보기 페이지로 이동함.\r\n  const restaurantId = req.params.id; // params : 실제 객체 요소를 가짐. 여기서는 객체 데이터의 id를 url 경로로 사용하기 위해서 id값을 가져오기 위해서 쓰임.\r\n\r\n  const storedRestaurants = resData.getStoredRestaurants();//refactoring\r\n\r\n  for (const restaurant of storedRestaurants) {//for문을 이용해 객체 데이터의 요소를 이용해 같은 아이디를 가진 객체 데이터 요소에 관한 정보를 전달할 것임.\r\n    if (restaurant.id === restaurantId) {//만약 객체 데이터 요소들 중 아이디가 클라이언트가 요청한 레스토랑 id와 같다면 return문을 반환.\r\n      return res.render('restaurants-detail', { restaurant: restaurant, rid: restaurantId }); // return문은 for문을 순서대로 돌렸을 때 id 값이 같은 객체 데이터 요소가 나온다면 즉시 for문의 활동을 멈추게 함.\r\n    }\r\n    // res.render('restaurants-detail', { rid: restaurantId, restaurants: storedRestaurants }); // resataurants-detail.ejs 페이지를 랜더링 시키고 restaurantId 값을 rid 변수 값으로 선언하여 값을 가져오기로 함.\r\n  }\r\n  res.status(404).render('404');\r\n});\r\n\r\n\r\nrouter.get('/recommend', function(req, res){\r\n  res.render('recommend');\r\n  // const htmlFilePath = path.join(__dirname, 'views', 'recommend.html');\r\n  // res.sendFile(htmlFilePath);\r\n});\r\n\r\nrouter.post('/recommend', function(req, res){\r\n  const restaurant = req.body; //req.body.name 이런 식으로 입력 데이터를 따로따로 들고 올 수 있지만, 반환하는 데이터가 한 묶음이므로 전체로 저장하기 위해 req.body를 사용.\r\n  restaurant.id = uuid.v4(); //.v4(): 무작이로 고유한 id를 생성해 줌. 이는 텍스트 파일로 생성이 되므로 그 문자열이 json 데이터화 됨.\r\n    //restaurant.id에서 id는 명칭이 바뀌어도 상관없지만 id를 구분 함으로 직관적으로 이해할 수 있는 언어가 필요함. 기존 form 형식으로 반환되는 입력 데이터에 id 속성을 추가(점표기법으로 id 필드 추가)로 두어 고유 id 값을 가지게끔 정의 해줌.\r\n\r\n  const restaurants = resData.getStoredRestaurants(); //refactoring\r\n\r\n  restaurants.push(restaurant); //refactoring\r\n\r\n  resData.storeRestaurants(restaurants); //refactoring\r\n\r\n  res.redirect('/confirm'); //사용자가 해당 양식을 다시 제출하겠냐는 알람창이 뜨지 않고 express 내장 메소드인 .redirect() 메소드를 이용하여 confirm 페이지로 바로 이동하도록 하게끔 정의할 수 있음.\r\n\r\n});\r\n\r\nrouter.get('/confirm', function(req, res){\r\n  res.render('confirm');\r\n  // const htmlFilePath = path.join(__dirname, 'views', 'confirm.html');\r\n  // res.sendFile(htmlFilePath);\r\n});\r\n\r\nmodule.exports = router;"},"lineCount":null}},"error":null,"hash":"122186e0c9c8e02a3de8d95430af1ae0","cacheData":{"env":{}}}